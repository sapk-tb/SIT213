<html>
    <head>
	<title></title>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.4/jquery.min.js" ></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/1.0.2/Chart.min.js" ></script>
    </head>
    <body>
	<h1>RÃ©sultats de la simulation</h1>
	<br>
	<h2>TEB en fonction du SNR</h2>
	<center>	<canvas id="chart-teb-by-snr" class="chart"  width="1200" height="480" ></canvas> </center>
	<script>
	    $(function(){
	    	
	    	$("#chart-teb-by-snr").attr("width",($(window).width()-100)+"px");
	    	$("#chart-teb-by-snr").attr("height",($(window).height()-100)+"px");
			data = {
				labels: [],
				datasets: [
	        {
	            label: "TEB en fonction du SNR (Signal RZ)",
	            strokeColor: "rgba(205,151,187,0.9)",
	            pointColor: "rgba(205,151,187,0.9)",
	            pointStrokeColor: "#fff",
	            data: []
	        },
	        {
	            label: "TEB en fonction du SNR (Signal NRZ)",
	            strokeColor: "rgba(151,187,205,0.9)",
	            pointColor: "rgba(151,187,205,0.9)",
	            pointStrokeColor: "#fff",
	            data: []
	        },
	        {
	            label: "TEB en fonction du SNR (Signal NRZT)",
	            strokeColor: "rgba(187,205,151,0.9)",
	            pointColor: "rgba(187,205,151,0.9)",
	            pointStrokeColor: "#fff",
	            data: []
	        },
	    			]
			};

			$.get("data/teb-by-snr.csv",function(csv){
				//console.log(csv);
				//for( let line of csv.split("\n") ){
				csv.split("\n").forEach(function (line, index) {
					if(index == 0 || index == 72) return;
					l = line.split(",");
					data.labels.push(l[0]);
					for (i=1;i<l.length;i++){
						data.datasets[i-1].data.push(l[i]);
					}
				});
				console.log(data);
		        var chartTEBSNR = new Chart($("#chart-teb-by-snr").get(0).getContext("2d")).Line(data, 
		        	{	scaleOverride: true, 
			        	// ** Required if scaleOverride is true **
					    // Number - The number of steps in a hard coded scale
					    scaleSteps: 10,
					    // Number - The value jump in the hard coded scale
					    scaleStepWidth: 0.05,
					    // Number - The scale starting value
					    scaleStartValue: 0,
		        		scaleBeginAtZero: true,
		        		pointDotRadius : 3,
			        	datasetFill : false
		        		
		        	});
			});
	    	
	    });
	</script>
    </body>
</html>
